# Documentation for client/src/pages/Subscription.tsx

Use unified global chat session
Fetch subscription plans
Fetch current user subscription
Fetch the site default chatbot for chat widget
Update metadata on client side for CSR page
Create checkout session mutation
Redirect to Stripe Checkout
Modify subscription mutation (upgrade/downgrade)
Invalidate queries to refresh data
Resume subscription mutation
Invalidate queries to refresh data
Cancel subscription mutation
Invalidate queries to refresh data
If user has an existing subscription (but not Free), confirm before modifying it
Close the toast and proceed with modification
No existing subscription, create new checkout session